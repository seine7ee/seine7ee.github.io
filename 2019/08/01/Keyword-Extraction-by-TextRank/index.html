<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">




  


  <link rel="alternate" href="/atom.xml" title="everything`s cola" type="application/atom+xml">






<meta name="description" content="Keyword Extraction by TextRank1. Understand PageRankTextRank是一种基于PageRank的算法，通常用来进行关键词抽取和文本摘要生成。PageRank是一个用来计算网页权值的算法，我们可以把网络上的所有网页认为是一个巨大的有向图，一些网页指向另外一些网页，而在图中，一个结点就对应一个网页。如果网页A有通向网页B的连接，则这个连接就可以被认作">
<meta property="og:type" content="article">
<meta property="og:title" content="Keyword Extraction by TextRank">
<meta property="og:url" content="http://yoursite.com/2019/08/01/Keyword-Extraction-by-TextRank/index.html">
<meta property="og:site_name" content="everything`s cola">
<meta property="og:description" content="Keyword Extraction by TextRank1. Understand PageRankTextRank是一种基于PageRank的算法，通常用来进行关键词抽取和文本摘要生成。PageRank是一个用来计算网页权值的算法，我们可以把网络上的所有网页认为是一个巨大的有向图，一些网页指向另外一些网页，而在图中，一个结点就对应一个网页。如果网页A有通向网页B的连接，则这个连接就可以被认作">
<meta property="og:locale" content="default">
<meta property="og:image" content="data:image/png;base64,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">
<meta property="og:updated_time" content="2019-11-22T08:03:28.852Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Keyword Extraction by TextRank">
<meta name="twitter:description" content="Keyword Extraction by TextRank1. Understand PageRankTextRank是一种基于PageRank的算法，通常用来进行关键词抽取和文本摘要生成。PageRank是一个用来计算网页权值的算法，我们可以把网络上的所有网页认为是一个巨大的有向图，一些网页指向另外一些网页，而在图中，一个结点就对应一个网页。如果网页A有通向网页B的连接，则这个连接就可以被认作">
<meta name="twitter:image" content="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARoAAAEWCAYAAAC5cVjBAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACAISURBVHhe7Z1brFXV9YcngiAgt4PcitwRUIugglpQCk0LGtOoJEb7YOJT32yT1jR9sQ99atqHJu2br20a+0C1taYt/UdpK8hNK1gBQQSRiwhyUzhwEPzPb+01DovtOod9WWuvufb+fcnIupyjZ23O3r8z5hhjjjHgS48TQogcuS4+CiFEbkhohBC5I6ERQuSOhEYIkTsSGiFE7khohBC5I6ERQuSOhEYIkTsSGiFE7khohBC5I6ERQuSOhEYIkTul31R50tvH3o566+GG53NvZyunbri3GyunbrC3Cd4mehvDDSFESyil0Oz19pG3pLjUi4nOFG+zuCGEyI3SCM1FbztjS4oL5+e84cHwPcDRzq+PDTji4QzzhtAYnN8am32vECI7SiE0273t8Gbi0e3thDcExu7VC4KC4HR5G8oND/du83ZHdCWEyIqghYZYyzpvxGEAr+WYNwQmSxCccd7wdoD4zXJvFtsRQjRHsEJDHGarN5ZG2GFvWQtMNQjO17yxlMIWeVP8RojmCVJotnjbVTl1Z7wd8XYpusqfgd4meRsZXTm3wJuWUkI0R3B1NHgyJjKHvB301iqRAX4WP5OfDdu88UxCiMYJSmj4QG+onEYf9NOV00LgZ5vY8EwSGyEaJxihoS4mFJExqsWGZxRC1E8QQkOK2kSGrFIIImPwLDwT8IyNptOF6GSCEBorwrP0dWjwTDwbz8izCiHqo3ChoVaGgCuwpSBU7Nl4Vp5ZCFE7hQsNtTJwytv5ymmQ8Gw8I9gzCyFqo1ChwTMgwHrZW8jejMESimflmeXVCFE7hQqNZXEoymtlrUyjEAjmWUEZKCFqJwih+Sw+ZsXxDRvcP++912186il34Vi24WV7VgmNELVTmNDgHdhyKcs9TF9euuSOr1/vBo8a5c7t3+9OvvVW/JVssGfl2ZXqFqI2ChOaA/Ex62VT95Ej7vgbb7jJjz7qRs2f7z7dtMld7iExnQ08q3Xvs9cghOifwoTGPqwX4mNWnHn3Xdfjl0s3LV3quhYtipZRZz/8MP5qNphXY69BCNE/hQnNp/Exy5T2pXPn3NH/+z934+zZbtjUqa7rnnvcpbNn3bF//9uvqbLbpG7PbK9BCNE/hcZoIMtl07lDh9ypd95xN91/vxs8erQbPm1atHw6/vrrrueUVcE0jz2zYjRC1EZhQpMHJ7dujTwYlkxuwAA3aMQIN+6BB9zpHTvcmZ3aPCBEURQmNFlnnC6eOeM++de/3Mjbb3fDZ8yI7zo35q673PUjR0ZLqqyCwhZXshajQoj+aRuP5uy+fVEguGvxYne992SMYVOmuDELF7oTmze7br+0ygJbOiFb27dvd2e8yAkh+qawVp6/i49MN2gWamd2/+Y37sPf/z6+k86tP/2pm/L44/FVczAt4cuDB5179dXoeqEXszvuUNNPIdIoTGjWemP5tN9bs8snqn//+6MfucsXLrhxy5a56wYNir9S4dL58+7I3//uhk+f7hb88pfRUqoZaGI+3RsTL6ft3u3efPNNd/HiRTfCe1JLly5148eP59uEEDFtITTHXn/d/feHP3Tznn3WTf3e9+K7VyA2s/MXv3CHX3nF3fnrX7ubliyJv9IYJjRMulzprbu7223cuNF99FFlY8Itt9ziFi1a5K6/XuPohIDCYjT2EWTqQDMgIp/45cuQcePcGLJNKVw3eLCb8O1vR+dUCrPUagZ7ZnsNQ4cOdStWrIiM8z179riXXnqpV3iE6HQKE5qx8fGG+Ngo5z/5xJ18+203ev58N2zy5PjuVxnhvYwRc+a4Y//5T7RNoRnsme01GFOmTHGPPvpo5NHg5bz22muRnT2rGmLR2RQmNDYVckh8bJRP33jDnfvww6hIb+AwFjXpDLnpJjd++fLoe/lvmsF+ir2GJCyXvvGNb7gHH3wwitng1fz5z392O3bscAWtUoUonMJiNFTVvlA5de95y7JCOE9YNs2tnLonvfUXhbl8+bLbtm2b+9///heJzNixY6Ng8ejRo+PvEKIzKHRSpQWEiWRk3ZMmL6jQmeLNAsG1cOrUqShY/Ilf5g0YMMDdfvvtUTr8uuvapoxJiH4pVGjYFED/XXYhMVu7DDCbG3+EsPOt3KiD3UqFiw6lUKGh7+6L3ujDu8db6MsnlkkM/ccPeczbjd7qJS0Vftddd7khQ5qNVgkRLoUKDbzmjVnXZfBqzJu52dsKbjQBQoPgIDyIzOLFi93MmTPjrwrRXhQuNObVwAfeQh25YkV60Kg3Uw1LqK1bt0Z1NzBp0iS3ZMkSN3x4Wj5LiPJSuNDAdm8MZqPaJNteeNkxzRsf/wXest7RRJB4/fr17rPPPnODBg2KAsW33nprFDgWoh0IQmhIdf/JG7uhmVkQ2lhcMkwU5w32ttpbHhsL0lLh9913X3QUouwEITRAaHRd5dTRzCGUQf+jvFm98XJvpLbzhFQ43s2nn1YaheLZ3HnnnZGnI0RZCUZoYK+3DZXTIMQmKTJswyTj1Ar4lRC3sVQ4MRtiN8RwhCgjQQkNhCI2RYlMkupU+IwZM9w999yjVLgoHcEJDWzxtqtyGs19Ygtkq2ps2GKA32Ada/II/taLUuGi7AQpNIBng+AQKCZITI1NVv2F+4IUNrUyBH0J+C71lndMplbSUuEEi6kwFiJ0ghUaoMaGALE1ASf9TUYqa8FBYMZ5s+qVMd4I/GZRK5M1yVQ4e6VoH/r1r39d+6ZE0AQtNAZ1NvQWtjlK3d5OeENwGp2thMeCwHR5G8oND/foBRx659/qVDi7wdk3pVS4CJVSCA0gKGzCfN9bso0Uyyquk6LD0c4RD6t7MXHBc2F5ZHA92xubJO17y4BS4aIslEZokhC/YcD+J94andSE0LBveqq3IjJKWcGvb+fOne7tt992X3zxhVLhIkhKKTRJiN98HJt5McR2zOvBW7FYC94Kkwsw4jDtBO1CN2/efFUqnAbp9DAWomhKLzTiapKpcNqK3n333W7OnDnxV4UoBglNG1KdCqe5FsFipcJFUUho2hilwkUoSGjanLRUOIV+aiEqWomEpkOoToVrmqZoJRKaDoJfdTIVTkYK74bBd0LkiYSmAyEVvmHDBnckntiJ0CA4SoWLvJDQdDAHDhxwmzZtUipc5I6EpsNJS4Xj3WiapsgSCY2ISKbCNU1TZI2ERvRSnQrXNE2RFRIa8RWUChdZI6ERqfC2UCpcZIWERvRLWiqcBumapinqQUIjauKDDz5wW7ZscRcuXNA0TVE3EhpRM4jMW2+91ZsKp3UowWKlwsW1kNCIulEqXNSLhEY0RFoqnGCxWoiKNCQ0oimqU+GapinSkNCIpuEtlEyFa5qmqEZCIzKjOhXOMoqJDEqFCwmNyBylwkU1EhqRC2mpcILFmqbZmUhoRK4kU+GgaZqdiYRG5E51Krxdp2naMMOj3myCal/DDJmUOsFbOw4zTENCI1pGO6bCGc/MbNCkuNSLiQ7bVcs8nrk/JDSipfB2K3sqnNHLO2NLigvn57zhwdh4Zo52TpMNa7TBEQ9nmDeExuD81tjaqSmHhEYUQnUqvCzTNLd72+HNxKPb2wlvCIzdqxcEBcHp8mbt4bl3m7c7oqvyI6ERhZJMhYc8TZNYyzpvxGEAr+WYNwQmSxCccd6s8oj4zXJvFtspKxIaUTiIzObNm92+ffuia3aD492EkgonDrPVG0sj7LC3rAWmGgTna95YSmGLvJU5fiOhEcHAMmrjxo1BpcK3eNtVOXVnvLHQuxRd5c9Ab+TlRkZXzi3wVtallIRGBEVaKpzMVBEtRPFkNlRO3SFvpyunLWeUt8mVU7fEWxk9GwmNCJLqVHirp2mGIjJG2cVGQiOChbdmMhXeqmma1MUQ+IUQRMZIig0B4jK1iZfQiOBpZSqcFPWfvBH0JauEhQQZKYwA8WpvZam1kdCI0lBPKvzjjz92PT09burUqfGd2qBOZps30tcfciNApnkj/V2m4LCERpSKtFQ4sZvkNE0E5uWXX46+98EHH3RdXZTCXRtqZV6snLoPvJ2vnAbHDd6sjvoxb2WosZHQiFLCMorlFMsqSE7TxOshtgNkrb773e+6wYOThf7pEJchPnPKG7UyIUONDbMniNMQrwkdCY0oLQSI33nnnd5UOBkpJjJs3Up53RUmTJjgVq1aFV+lY97MZW900GlVrUyjEJsh88SisQxejYRGlJ7qVLjBW9u6+s2aNSsKIPcF/g/yVAZvxjCvhqphNmGGjIRGtAW8jdetW+c++ojFzxWRSYoNQoPgpLHWG60e+K8rdcmNcXbfPvfWM8+47jhD1h+Ln3/ejbn77viqfsi5sXSixcRKbgSMhEa0BZ9//rn7y1/+Ei2nkuJSzcqVK93EibSbugIp7Rcqp+49b80sm0xoBg4b5sYtW+au62f7xMSHHnLDp5FDagy2KMytnLonvYWc6pbQiLbgH//4hzt69Gi/IgMEi4nXJDNRVgXMXqaD3GgCE5rRCxa42557zg28gRxRfliqO/RqYc0wFaXnwIEDkciALZfs72f139GLFy9G8RxS4Ia12rwQH8uE7SK31xAqEhpRelgKLV++PNrtPWbMmEhszKtJE56TJ0+6V199NboGCyGHWjfTH/bMV4fBw0NCI0oPNTJUANMSlJqZ1atX9wZ+qaOpFh5gOgPBY7DOeKGntNOwZ260u1+rUIxGtD0EillasS3h8OHDrrubBpwVEKS9XpBYeO331mxDq1qzTjOeftrd4r+vWWiQNd1b6JknCY3oOBCe3bt3u9OnT0fi8wXFfF1dUS/gZqk16zRi7lw3fsWK+KpxLPNE3fMT3AgUCY3oWAgIE69Zy3Jq/PhMhaZVWSegiTk8FR9DREIj2hYTEo4nTpyIjseOHYtahbLhEggen8KjGTxYQpMjEhpRekhvVwsK19di8uTJ7oEHHnDrvMhkHaNpldCUJUajrJMoPezWps8wO7YJ+tYiMmy0/Na3vlXTrm7RPBIaUXoWLlwYn1XqZK7lpJP2pjrYUt1Wuk9gtWzYM4feaU9LJ9EWrFmzprc3TX+k7eK2rnpZtO6sNesEWWSerLVn6N32JDSi9DCiZdOmTW7Pnj2RN2OeSjULFiyIrJo89jrVsns7i1qasux1ktCI0sJObcTl3XffdefOXQnjpolNfy0isty93Uq0e1uIHCE1vWvXrsgsTU1Ql1R12g7u/kTGyKofTStRPxohcgCvBe8FLwZvBoYNG+Zuu+22aNYTSyhiNezQNmoRGVCHvXyR0IjgOXPmTNQXeO/evb0ZpZEjR0ajVmbOnHnVuBXS3BjzuhuZgKCewfkgoRHBQg9gmo9TkGeMHTs2Ehh2a6cFfSnWw6upbm5VC695IxhcpikIN3trfsdU/khoRHAwSgWBYcOjQc+Z+fPnu0mTJsV3+gaxaaQQryxznawaGDTXSYg64G1IY3EEJjnNAM8FgcGTaQWaVJkPEhpRKARwGXVLDIZYDLAkIvaCwBCLaSWEkUOevU2GCcnV7G0haiCtBoYALhMnGQJHNqkoSHFXeu85d8jb6cpp4YzyNrlyGk2nJLVdFiQ0oqX0VQNDv9958+a5IUOGRPeKxqqFIQSxSYpM6FXAaUhoREs4f/58FH/pqwYGbyY0QhGbsosMSGhErtA2k/jL+++/H8VjYPTo0VH8Zdq0aVfVwITIFm+7KqfRXih2MLWqxoYtBuTYLEpVpuBvNRIakQv0hEFg9u/f31tkN378+KgG5uabqf4oD3g2CA6BYoLE1Ng02yDrWhCholaGoC8BX/ablykmU42ERmQKY0xYIh06xGKjAp3s8GAQmrJCjQ0BYmupRfqbjFTWgoPA0PaB9DWM8Ubgtwy1Mv0hoRGZgLAgMAgNkKKePn165MGw2bFdoM6G3sK2m4rBLSe8IThXdljVBx4LAkMd81BueLhHL+CyLpWqkdCIhuGtw9KIJZK1zyTmMnv27Ehgbryx7H+H00FQ2IT5vrdkqy2WVVwnRYejnSMeVvdi4oLnkqxh5nq2NzZJ2ve2AxIaUTeXLl2KgrvUwBDsBYbnz507N8oi3dCCzv+hQPyGnVj4cVemedcHQsOicqq3MmaUakFCI2qG9gvvvfee27FjR5SuBkQFcUFkEJtOBp+O3VmYeTHIsHk9eCvm4/EvNTG29llY9o2ERlwTRAVxQWSs1wvLIip4WSYNHFjGtt6ilUhoRJ/0VwNDoDetTYMQaUhoxFdIq4Gpp02DENVIaEQvaTUwrW7TINoTCY1IrYEpqk2DaE9KLzQW6aeDvaUX+4r0k0akn0enRPr7g197dQ1MKG0aRPtRSqGhdoGeIUlxqRcTHfaPtGvtQhppNTAhtmkQ7UVphIakKtWYWFJcOKcSEw/Gahc42jn1ClbdwREPh7/VyWpMzqnEbLdqzCRpNTCht2kQ7UMphEb7SxonrQamr1ElQuRF0EKjHbONQ3vM7du3X1UDc61RJULkRbBCQxyGyYEsjbBW9wDBmABYtvhN2rA11cCIoglSaNTVrH7Shq2pBkaEQnBCoz6t9VE9bM3aNBDkVQ2MCIWghCYUkTFCFRt+ZdXD1jq1TYMoB8EIjWbpXJu0YWtq0yDKQBBCQ9I15OmAZKQwAsRFTAdMG7amNg2iTAQhNJp3nE7asDW1aRBlpHChoVbmxcqp+8BbpWY1PIh6zKycuse85Vljg9eC95IctlbWUSVCQOFCQ1yG+Mwpb9TKhAw1NqO9EachXpM1aTUw7TCqRIhChca8GepW93hrVa1MoxCbIfNE0X6WXk11DUy7jioRnUuhQsMGSap/y+DNGObVUDXMJsxm6KsGpp1HlYjOpFChWeuNVg8snT7jRoOc3bfPvfXMM67bf3CrGTJ2rBv3zW+6GU8/7Yb6ZUizjPDG0okWEyu5USf8c1fXwFibBlLUqoER7UhhQkNK+4XKqXvPWzPLJhOaIePHu7H33BPfrfDZnj3u+IYN7oZJk9zCX/3K3TirubI7EslzK6fuSW+1prrTamDUpkF0CoUJjVUB85E7yI0mMKGZuGqVu8Ufq/n0jTfctp/8xE1evdrN+cEP3IAm604s1V1LtXBaDYzaNIhOo7B3ubXarFSH5MtIvywZ7j/UPcePu8txT5ZmsF3k9hrSoO5l27Ztbs2aNW7Lli2RyLC58Zt+GffII49EsRiJjOgUCnunV6ITrambudzTEwnMwKFDm/ZmwJ7ZXkMSBAVhQWAQGgSHNg3f+c533MMPP+ymTZumQjvRcRQmNOZX5J3SvnjmjPvwD39w548ccZMeeshdl8F+IHvmpG9E/90NGzZEArNz585oyUSbBsRl5cqV6gUjOprCYjSWcdrvrdmGVv1lnWDIuHFu/s9/7roWL/avuHlvggZZ072ReVpcNWxNo0qE+CqFCc3v4iO9gJulv6zTuUOH3PHXX488mbnPPusm+iVMs2JjmadBx465i3/7W3RPo0qE6Ju2Epq+sk7njx517zz3nDt/+LC767e/dcNnzIi/0jg0MYfBf/xjVL173333yYMRog86Iu1xw4QJ7msPPxwtrU6+/XZ8t3m+9B4NwV4qe//617/2ZpeEEFdTmNAQ34BWLTKGxbueuw82W7Vz5ZkneE9m0aJF0VKJ4C9BYILBBIWtKE8I0SEeDZyLBYZ6mqwYMGhQVNm7evVqt2TJkmjpxEqUEScvvfSSW7duXe82AyE6mcKExpLMregNd+H4cXf4lVei7NOIOXPiu41jz2yvwTZDUohHQZ5NHWA39iv+565du7Z3gL4QnUhhwWDrqpdF687+sk49J0+6j/0H/Ytz59y8H//YTXn88aazTtbas79uewgLGycPHaIDcgV6ypD2pseMEJ1EW+11Squjud4vZ8bee6+b8sQTbvSCBW5ABmX/9ex1OllVZwNkqdjrpHacolMoTGiy3L3dSqyGBurZvU3lMIKTHFGrBuOiUyhMaCCrfjStpNl+NGlD9zUyRbQ7hQpNJ3fYQ2QQG0QH8QENgRPtSqFCo57B/jVfuhQtp+hXw/IK1NJTtBuFCg285o1gcJmmIFD6t4IbGcKvgYAxmapTp/jX8L+cAWpSLtqDwoWmLHOdbMc25D3X6eDBg1HgOFl7o7EroswULjSgSZXpqBZHtAtBCA25l5Bnb5Nhota3qNnbqsURZScIoQFS3EytBP5+n66cFs4ob+Y7MJ2S1HZRECxm42ZyVK5qcUQZCEZowKqFIQSxSYpMLVXArSJt+L9qcUTIBCU0EIrYhCoySfBqdu/eHdXiWB8c1eKIEAlOaGCLt12V02gvFDuYWlVjw+KDNuLWK6+Vwd9GSRtOp1ocERJBCg3g2SA4BIoJElNjk3fvOlLY1MoQ9GXxsdRbkTGZeuFXSWsKBMf64KgWR4RAsEID1NgQID4ZXVXS32SkshYcBIa2D6SvgY8jgd8y+wFHjhyJUuO0GTVIiS9cuLC3X44QrSJooTGos6GJuc1R6vZ2whuCY/fqBY8FgenyNpQbHu7RdDz0pVI94NkgOHg6BgPtqMXRrCnRKkohNICgsAnzfW/JUbQsq7hOig5HO0c8LAdj4oLnwvLI4Hq2NzZJ2ve2G8RuEBxiOfYrx7NBcKZMmaJaHJErpRGaJMRv+PtMgT5C0wgIDcX8U72FmFHKC7JTbOBM1uLQ65gYDoPvNA9c5EEphSYJ8RuiEJh5McR2zOvBW7FYC97KxNg6PSxK/Q1ik2xTwTQHiv8YhMdAPCGyovRCI5ojrU3FkCFD3Lx58yLjXIhmkdCICN4G1W0qNOZXZIWERnyF6jYVBIpnzZoVxXE09lc0goRG9Elam4qpU6dGmSrV4oh6kNCIa5LWpkK1OKIeJDSiZtJGxqgW5wqWAWWyh5Vd9JUBpbyCPkedkgGV0Ii6SRsZ06m1ONR00UspKS71YqLDvrp2remS0IiGSRsZ0wm1OEgrVepYUlw4p0IdD8ZqujjaeXWVOh4OubxklTrnVKi3W5W6hEY0TSfV4mjfXWNIaERm8FaqblPRLrU46iTQHBIakQvVbSrKXItDHIaJqiyNsFb3RsKYjFrm+I2ERuRKWpsKanEWLFhQikZc6vaYDRIa0RLS2lSEPhRP/auzQ0IjWkpam4oQh+KFIjJG2cVGQiMKIW1kTChD8TRjLHskNKJQ0kbGFDkUjxR1yFNTyUhhBIiLmJraKBIaEQRpI2OKGIqnOfD5IKERQcHbsboWp96heD09PW7w4GS9bW1QK/Ni5dR94K1S6xwe/AvMrJy6x7yVocZGQiOCpboWp5aheIjMyy+/7FasWOG6uqi1rR3iMsRnaPtFrUzIUGMz2htxGuI1oSOhEcGDZ0MMx9pUECjuayjetm3bIsMLWrVqVc1iY94Me9L3eGtVrUyjsJAk88T21TJ4NRIaURrS2lQka3HwZtasWdO7o5ztD/fff39UIHgt2CBJ9W8ZvBnDvBqqhtmEGTISGlE60tpUIDTDhw93+/bti66TLF26NNr+0B9rvdHqgaXTZ9xogpNvvum2fP/78VXfLH7+eTfm7rvjq/oZ4Y2lEy0mVnIjYCQ0orSktakA3tLVdTj9iQ1S9ULl1L3nrdllkwnNuGXL3Mi5c+O7X2XiQw+54dPIITUGiX/7vz/pLeRUt4RGlB7aVGzcuNHt3Us9b9/0JTZWBUxS/SA3msSE5vaf/cxNfuSR+G4+WKo79GphjSUUpYeiPstM9cf69evdli1sk7waa7VZqU8uF7aL3F5DqEhoROnBkzl79mzvZs3+nPSdO3dGgpOkUq0Tbt1Mf9gz22sIFQmNKD3EaMDiMnZEcJKiY+cI07p1tpvpSme80FPaadgz22sIFcVoROlBOEh9Jw0P51pQi7Ns2bLejNN+b1k0tKol69RsxsmgQdZ0b6FnniQ0om1Jio6dnz59Ohr5ay0qKPg7tWqVc4MHR72As6CWrFOzGSfDMk9suHiCG4EioREdi4nPP9kX1dWVudC0IusENDGHp+JjiChGIzoW9ksxcROREfkioREdD/ENKOOMBntmew2hIqERQuSOhEZ0PFa639peftlgzxx6pz0Jjeh4xsbHa7fUCg97ZnsNoSKhER2PTYUs4+Bei9HYawgVpbdFx5P17u1WUabd2/JoRMfDB7SMmadkxkkxGiFKgM1IoplUWbBnLcN8JwmNEB77sDLnugzZJzwYm8ktoRGiJNDc+2ZvfCBCL34DhsjxrDxzGcatSGiEiFkcH2n4HXKqm9gMzwj2zKEjoREiBs+A6Y8QsleDNwM8axm8GZDQCJGAsSW0XKAuxT7QIYEA8mw8Y+gjVpJIaIRIQJCVRt+A0IyqnAYBz2IVwDxj6CntJBIaIaogi2NiM9lbCGLDM/AswLOVIdOUREIjRAqMLglFbKpFJuSxKn0hoRGiD/hAz6ucRh90UsmtrLHhZ/EzTWQI/pZRZEB7nYS4BgyYYxoUe6J6vDGbO4sm5v1BCpvZ2gR9icUs9Va25VISCY0QNfC5Nwa0nIyuKgPbjnnLWnAQGILQtht7jLfl3sqSxu4LCY0QdbDdG03MbY5St7cT3hCcRmcr4bEgMHQuHsoND/doOn5HdFV+JDRC1AmCstPb+96S06NYVnGdFB2Odo54WEraxMVqYgyuZ3ujRsa+tx2Q0AjRBMRvDnj7xBtC0wgIzXhvU72VNdh7LSQ0QmQE8ZuPYzMvhtiOeT14KxZrwVuZGBtxmHZHQiOEyB3V0QghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIHQmNECJ3JDRCiNyR0AghckdCI4TIGef+H3JN2pCsuGwTAAAAAElFTkSuQmCC">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/08/01/Keyword-Extraction-by-TextRank/">





  <title>Keyword Extraction by TextRank | everything`s cola</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">everything`s cola</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/01/Keyword-Extraction-by-TextRank/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="seine7ee">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="everything`s cola">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Keyword Extraction by TextRank</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-01T10:58:12+08:00">
                2019-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/TextRank/" itemprop="url" rel="index">
                    <span itemprop="name">TextRank</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Keyword-Extraction-by-TextRank"><a href="#Keyword-Extraction-by-TextRank" class="headerlink" title="Keyword Extraction by TextRank"></a>Keyword Extraction by TextRank</h1><h2 id="1-Understand-PageRank"><a href="#1-Understand-PageRank" class="headerlink" title="1. Understand PageRank"></a>1. Understand PageRank</h2><p>TextRank是一种基于PageRank的算法，通常用来进行关键词抽取和文本摘要生成。PageRank是一个用来计算网页权值的算法，我们可以把网络上的所有网页认为是一个巨大的有向图，一些网页指向另外一些网页，而在图中，一个结点就对应一个网页。如果网页A有通向网页B的连接，则这个连接就可以被认作一个从A到B的有向边。</p>
<p>当我们构建完一整张图以后，我么可以为网页分配权值，使用以下公式：</p>
<script type="math/tex; mode=display">
S(V_i) = (1-d) + d * \sum_{j\in In(V_i)} { {1}\over{|Out(V_j)|} }S(V_j)</script><blockquote>
<p>$S(V_i)$ - the weight of webpage i</p>
<p>$d$ - damping factor, in case of no outgoing links</p>
<p>$In(V_i)$ - inbound links of i, which is a set</p>
<p>$Out(V_j)$ - outgoing links of j, which is a set</p>
<p>$|Out(V_j)|$ - the number of outbound links</p>
</blockquote>
<p>下面用一个例子来讲述PageRank的实现过程。</p>
<p><img src="data:image/png;base64,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" alt="iamge"></p>
<p>我们可以用上面的有向图来表示网页之间的连接关系，下图中表示A有一个结点指向E，B有两个结点指向E，我们可以使用邻接矩阵来表示这个有向图。</p>
<p>每一行中的顶点对应的值表示从其他顶点连入该顶点的连接数，即该顶点的入度，同样地，每一列中的顶点对应的值也即该顶点的出度——即该顶点连接出去的数目。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>A</th>
<th>B</th>
<th>E</th>
<th>F</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>B</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>E</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>F</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<p>根据公式${1 \over {Out(V_j)}}$，我们应对上述的矩阵作标准化处理，<font color="red">这一步对矩阵所做的处理，实际上也就是将矩阵转换成马尔可夫的转移概率矩阵，通过Markov Chains(实际上网页之间的连接就是一个Markov Chains)的性质来得出最终收敛结果(即该Markov Chains的平稳分布)，也就是我们需要的PageRank。</font></p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>A</th>
<th>B</th>
<th>E</th>
<th>F</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>B</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>E</td>
<td>1</td>
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>F</td>
<td>0</td>
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<p> 然后，我们令所有节点的默认权值为1，完成$\sum_{j\in In(V_i){1\over|Out(V_j)|}S(V_j)}$ 的运算，具体如下：</p>
<script type="math/tex; mode=display">
\left[
\begin{matrix}
    0 & 0 & 0 & 0\\
    0 & 0 & 0 & 0\\
    1 & 0.5 & 0 & 0\\
    0 & 0.5 & 0 & 0
\end{matrix}
\right]*
\left[
\begin{matrix}
    1\\
    1\\
    1\\
    1
\end{matrix}
\right] = 
\left[
\begin{matrix}
    0\\
    0\\
    1.5\\
    0.5
\end{matrix}
\right]</script><p>最后，经过多次迭代直到收敛，就可以得出最后的权值。因为我们预先并不知道node的最终权值，因此，具体的收敛实现则可以用相近两次的权值总和(sum(pagerank))之差来表示，如果这个差小于0.00001，就认为收敛了，即权值就是最终权值。</p>
<h2 id="2-使用TextRank实现Keyword-Extraction"><a href="#2-使用TextRank实现Keyword-Extraction" class="headerlink" title="2.使用TextRank实现Keyword Extraction"></a>2.使用TextRank实现Keyword Extraction</h2><p>PageRank和TextRank的基本思想是一致的，在PageRank中，node是网页，而在TextRank中，node则是单词。在关键词抽取中，我们可以把一个文本分割成许多句子，然后我们存储这些句子中特定词性的词，因为句子中的大多数单词对决定句子的重要性并不是那么有用，我们只考虑名词(NOUN)，专有名词(PROPN)，动词(VERB)等词性，当然这是可以选择的，你也可以使用所有的单词。</p>
<p>例如，我们使用这样一段文本，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># e.g.1 将整段文本分割成几个句子 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> spacy</span><br><span class="line"><span class="comment"># 导入en_core_web_sm模型</span></span><br><span class="line">nlp = spacy.load(<span class="string">'en_core_web_sm'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实验文本</span></span><br><span class="line">content = <span class="string">'''</span></span><br><span class="line"><span class="string">The Wandering Earth, described as China’s first big-budget science fiction thriller, quietly made it onto screens at AMC theaters in North America this weekend, and it shows a new side of Chinese filmmaking — one focused toward futuristic spectacles rather than China’s traditionally grand, massive historical epics. At the same time, The Wandering Earth feels like a throwback to a few familiar eras of American filmmaking. While the film’s cast, setting, and tone are all Chinese, longtime science fiction fans are going to see a lot on the screen that reminds them of other movies, for better or worse.</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将文本转换为一个nlp对象</span></span><br><span class="line">doc = nlp(content)</span><br><span class="line"><span class="comment"># 打印文本中的句子</span></span><br><span class="line"><span class="keyword">for</span> sents <span class="keyword">in</span> doc.sents:</span><br><span class="line">    print(sents.text)</span><br><span class="line">    </span><br><span class="line">[out]:</span><br><span class="line"><span class="comment"># 实验文本被分成了三句话</span></span><br><span class="line"></span><br><span class="line">The Wandering Earth, described <span class="keyword">as</span> China’s first big-budget science fiction thriller, quietly made it onto screens at AMC theaters <span class="keyword">in</span> North America this weekend, <span class="keyword">and</span> it shows a new side of Chinese filmmaking — one focused toward futuristic spectacles rather than China’s traditionally grand, massive historical epics.</span><br><span class="line"></span><br><span class="line">At the same time, The Wandering Earth feels like a throwback to a few familiar eras of American filmmaking.</span><br><span class="line"></span><br><span class="line">While the film’s cast, setting, <span class="keyword">and</span> tone are all Chinese, longtime science fiction fans are going to see a lot on the screen that reminds them of other movies, <span class="keyword">for</span> better <span class="keyword">or</span> worse.</span><br></pre></td></tr></table></figure>
<p>如果要进行关键词的抽取，那么主要包括以下几个内容：</p>
<ul>
<li>文本分割成句子，保存每一句中特定词性的单词(表征词 - tokens)</li>
<li>以每一句为单位，获得该句子中指定窗口大小的pair，最终得到整个文本的token_pairs集合</li>
<li>获得所有的tokens的集合，即该文本的表征词汇集合 - vocab</li>
<li>根据获得的vocab和token_pairs，来得到文本图的矩阵表示，并将矩阵归一化</li>
<li>迭代计算出每个token的weight</li>
<li>(可选操作)向STOP_WORDS中加入自定义的STOP_WORDS</li>
<li>对权值进行排序</li>
</ul>
<h2 id="pre-option"><a href="#pre-option" class="headerlink" title="pre-option"></a>pre-option</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> spacy</span><br><span class="line"><span class="keyword">from</span> spacy.lang.en.stop_words <span class="keyword">import</span> STOP_WORDS</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line">nlp = spacy.load(<span class="string">"en_core_web_sm"</span>)</span><br><span class="line">content = <span class="string">'''</span></span><br><span class="line"><span class="string">The Wandering Earth, described as China’s first big-budget science fiction thriller, quietly made it onto screens at AMC theaters in North America this weekend, and it shows a new side of Chinese filmmaking — one focused toward futuristic spectacles rather than China’s traditionally grand, massive historical epics. At the same time, The Wandering Earth feels like a throwback to a few familiar eras of American filmmaking. While the film’s cast, setting, and tone are all Chinese, longtime science fiction fans are going to see a lot on the screen that reminds them of other movies, for better or worse.</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">doc = nlp(content)</span><br></pre></td></tr></table></figure>
<h2 id="1-文本分割成句子，保存每一句中特定词性的单词"><a href="#1-文本分割成句子，保存每一句中特定词性的单词" class="headerlink" title="1. 文本分割成句子，保存每一句中特定词性的单词"></a>1. 文本分割成句子，保存每一句中特定词性的单词</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sentence_segment</span></span><br><span class="line"></span><br><span class="line">candidate_pos = [<span class="string">'NOUN'</span>, <span class="string">'PROPN'</span>]</span><br><span class="line">sentences = []</span><br><span class="line"><span class="keyword">for</span> sent <span class="keyword">in</span> doc.sents:</span><br><span class="line">    selected_word = []</span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> sent:</span><br><span class="line">        <span class="keyword">if</span> word.pos_ <span class="keyword">in</span> candidate_pos <span class="keyword">and</span> word.is_stop <span class="keyword">is</span> <span class="literal">False</span>:</span><br><span class="line">            selected_word.append(word)</span><br><span class="line">    sentences.append(selected_word)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> sent <span class="keyword">in</span> sentences:</span><br><span class="line">    print(sent, <span class="string">"\n"</span>)</span><br><span class="line">   </span><br><span class="line">[out]</span><br><span class="line">[Wandering, Earth, China, ’s, budget, science, fiction, thriller, screens, AMC, theaters, North, America, weekend, filmmaking, —, spectacles, China, ’s, epics] </span><br><span class="line"></span><br><span class="line">[time, Wandering, Earth, throwback, eras, filmmaking] </span><br><span class="line"></span><br><span class="line">[film, ’s, cast, tone, Chinese, science, fiction, fans, lot, screen, movies]</span><br></pre></td></tr></table></figure>
<h2 id="2-以每一句为单位，获得该句子中指定窗口大小的pair，最终得到整个文本的token-pairs集合"><a href="#2-以每一句为单位，获得该句子中指定窗口大小的pair，最终得到整个文本的token-pairs集合" class="headerlink" title="2. 以每一句为单位，获得该句子中指定窗口大小的pair，最终得到整个文本的token_pairs集合"></a>2. 以每一句为单位，获得该句子中指定窗口大小的pair，最终得到整个文本的token_pairs集合</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get_token_pairs</span></span><br><span class="line"></span><br><span class="line">token_pairs = []</span><br><span class="line">window_size = <span class="number">4</span></span><br><span class="line"><span class="keyword">for</span> sent <span class="keyword">in</span> sentences:</span><br><span class="line">    <span class="keyword">for</span> i, word <span class="keyword">in</span> enumerate(sent):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> (i+<span class="number">1</span>, i+window_size):</span><br><span class="line">            <span class="keyword">if</span> j &gt;= len(sent):</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            pair = (word, sent[j])</span><br><span class="line">            <span class="keyword">if</span> pair <span class="keyword">not</span> <span class="keyword">in</span> token_pairs:</span><br><span class="line">                token_pairs.append(pair)</span><br><span class="line">print(token_pairs)</span><br></pre></td></tr></table></figure>
<p>​        [output]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(Wandering, Earth), (Wandering, budget), (Earth, China), (Earth, science), (China, ’s), (China, fiction), (’s, budget), (’s, thriller), (budget, science), (budget, screens), (science, fiction), (science, AMC), (fiction, thriller), (fiction, theaters), (thriller, screens), (thriller, North), (screens, AMC), (screens, America), (AMC, theaters), (AMC, weekend), (theaters, North), (theaters, filmmaking), (North, America), (North, —), (America, weekend), (America, spectacles), (weekend, filmmaking), (weekend, China), (filmmaking, —), (filmmaking, ’s), (—, spectacles), (—, epics), (spectacles, China), (China, ’s), (’s, epics), (time, Wandering), (time, eras), (Wandering, Earth), (Wandering, filmmaking), (Earth, throwback), (throwback, eras), (eras, filmmaking), (film, ’s), (film, Chinese), (’s, cast), (’s, science), (cast, tone), (cast, fiction), (tone, Chinese), (tone, fans), (Chinese, science), (Chinese, lot), (science, fiction), (science, screen), (fiction, fans), (fiction, movies), (fans, lot), (lot, screen), (screen, movies)]</span><br></pre></td></tr></table></figure>
<h2 id="3-获得所有的tokens的集合，即该文本的表征词汇集合-vocab"><a href="#3-获得所有的tokens的集合，即该文本的表征词汇集合-vocab" class="headerlink" title="3. 获得所有的tokens的集合，即该文本的表征词汇集合 - vocab"></a>3. 获得所有的tokens的集合，即该文本的表征词汇集合 - vocab</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get_vocab</span></span><br><span class="line"></span><br><span class="line">vocab = OrderedDict()</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> sent <span class="keyword">in</span> sentences:</span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> sent:</span><br><span class="line">        <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> vocab:</span><br><span class="line">            vocab[word] = i</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">print(vocab)</span><br><span class="line">len(vocab)</span><br></pre></td></tr></table></figure>
<p>​        [output]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OrderedDict([(Wandering, 0), (Earth, 1), (China, 2), (’s, 3), (budget, 4), (science, 5), (fiction, 6), (thriller, 7), (screens, 8), (AMC, 9), (theaters, 10), (North, 11), (America, 12), (weekend, 13), (filmmaking, 14), (—, 15), (spectacles, 16), (China, 17), (’s, 18), (epics, 19), (time, 20), (Wandering, 21), (Earth, 22), (throwback, 23), (eras, 24), (filmmaking, 25), (film, 26), (’s, 27), (cast, 28), (tone, 29), (Chinese, 30), (science, 31), (fiction, 32), (fans, 33), (lot, 34), (screen, 35), (movies, 36)])</span><br></pre></td></tr></table></figure>
<h2 id="4-根据获得的vocab和token-pairs，来得到文本图的矩阵表示，并将矩阵归一化"><a href="#4-根据获得的vocab和token-pairs，来得到文本图的矩阵表示，并将矩阵归一化" class="headerlink" title="4. 根据获得的vocab和token_pairs，来得到文本图的矩阵表示，并将矩阵归一化"></a>4. 根据获得的vocab和token_pairs，来得到文本图的矩阵表示，并将矩阵归一化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get_matrix</span></span><br><span class="line"></span><br><span class="line">vocab_size = len(vocab)</span><br><span class="line">matrix_for_text = np.zeros((vocab_size, vocab_size), dtype=<span class="string">'float'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> word1, word2 <span class="keyword">in</span> token_pairs:</span><br><span class="line">    i, j = vocab[word1], vocab[word2]</span><br><span class="line">    matrix_for_text[i][j] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在关键词抽取中，我们把文本看做了一个无向图，无向图的矩阵表示是一个对称矩阵，以下就是无向图矩阵的对称化</span></span><br><span class="line">matrix_for_text = matrix_for_text + matrix_for_text.T - np.diag(matrix_for_text.diagonal())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对矩阵的每一列进行求和 -- 也就是该列顶点对应的出度总和</span></span><br><span class="line">norm = np.sum(matrix_for_text, axis=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># normalization以后的矩阵</span></span><br><span class="line">matrix_for_text = np.divide(matrix_for_text, norm, where=(norm!=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<h2 id="5-迭代计算出每个token的weight"><a href="#5-迭代计算出每个token的weight" class="headerlink" title="5. 迭代计算出每个token的weight"></a>5. 迭代计算出每个token的weight</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># analyze()</span></span><br><span class="line"></span><br><span class="line">min_diff = <span class="number">1e-5</span></span><br><span class="line">d = <span class="number">0.85</span></span><br><span class="line">iterations = <span class="number">10</span></span><br><span class="line">tr = np.array([<span class="number">1</span>] * vocab_size)</span><br><span class="line">print(tr)</span><br><span class="line">previous_tr = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(iterations):</span><br><span class="line">    tr = <span class="number">1</span>-d + d*(np.dot(matrix_for_text, tr))</span><br><span class="line">    <span class="keyword">if</span> abs(previous_tr - sum(tr)) &lt; min_diff:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        previous_tr = sum(tr)</span><br><span class="line"></span><br><span class="line">print(tr)</span><br></pre></td></tr></table></figure>
<p>​        [output]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[0.72611111 0.91529514 0.92414931 0.91352431 1.10772569 1.16616319</span><br><span class="line"> 1.08086806 1.04574653 1.0903125  1.03010417 1.03010417 1.0903125</span><br><span class="line"> 1.04574653 1.08086806 1.16616319 1.10772569 0.91352431 0.92414931</span><br><span class="line"> 0.91529514 0.72611111 0.9575     1.12395833 0.91854167 0.91854167</span><br><span class="line"> 1.12395833 0.9575     0.74116319 0.93034722 1.00442708 0.96428819</span><br><span class="line"> 1.19361111 1.33232639 1.19361111 0.96428819 1.00442708 0.93034722</span><br><span class="line"> 0.74116319]</span><br></pre></td></tr></table></figure>
<h2 id="6-对权值进行排序"><a href="#6-对权值进行排序" class="headerlink" title="6. 对权值进行排序"></a>6. 对权值进行排序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get_keywords()</span></span><br><span class="line"></span><br><span class="line">node_weight = dict()</span><br><span class="line"><span class="keyword">for</span> word, index <span class="keyword">in</span> vocab.items():</span><br><span class="line">    node_weight[word] = tr[index]</span><br><span class="line"></span><br><span class="line">node_weight_ordered = OrderedDict(sorted(node_weight.items(), key=<span class="keyword">lambda</span> t:t[<span class="number">1</span>], reverse=<span class="literal">True</span>))</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> node_weight_ordered.items():</span><br><span class="line">    print(k, <span class="string">" -- "</span>, v)</span><br></pre></td></tr></table></figure>
<p>​        [output]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">science  --  1.3323263888888888</span><br><span class="line">Chinese  --  1.1936111111111112</span><br><span class="line">fiction  --  1.1936111111111112</span><br><span class="line">science  --  1.1661631944444442</span><br><span class="line">filmmaking  --  1.1661631944444442</span><br><span class="line">Wandering  --  1.1239583333333334</span><br><span class="line">eras  --  1.1239583333333334</span><br><span class="line">budget  --  1.1077256944444445</span><br><span class="line">—  --  1.1077256944444445</span><br><span class="line">screens  --  1.0903125</span><br><span class="line">North  --  1.0903125</span><br><span class="line">fiction  --  1.0808680555555554</span><br><span class="line">weekend  --  1.0808680555555554</span><br><span class="line">thriller  --  1.0457465277777778</span><br><span class="line">America  --  1.0457465277777778</span><br><span class="line">AMC  --  1.0301041666666666</span><br><span class="line">theaters  --  1.0301041666666666</span><br><span class="line">cast  --  1.004427083333333</span><br><span class="line">lot  --  1.004427083333333</span><br><span class="line">tone  --  0.9642881944444444</span><br><span class="line">fans  --  0.9642881944444444</span><br><span class="line">time  --  0.9574999999999999</span><br><span class="line">filmmaking  --  0.9574999999999999</span><br><span class="line">screen  --  0.9303472222222222</span><br><span class="line">’s  --  0.9303472222222221</span><br><span class="line">China  --  0.9241493055555555</span><br><span class="line">China  --  0.9241493055555555</span><br><span class="line">Earth  --  0.9185416666666666</span><br><span class="line">throwback  --  0.9185416666666666</span><br><span class="line">Earth  --  0.9152951388888888</span><br><span class="line">’s  --  0.9152951388888888</span><br><span class="line">’s  --  0.9135243055555555</span><br><span class="line">spectacles  --  0.9135243055555555</span><br><span class="line">film  --  0.7411631944444443</span><br><span class="line">movies  --  0.7411631944444443</span><br><span class="line">Wandering  --  0.726111111111111</span><br><span class="line">epics  --  0.726111111111111</span><br></pre></td></tr></table></figure>
<p>具体代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> spacy</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"><span class="keyword">from</span> spacy.lang.en.stop_words <span class="keyword">import</span> STOP_WORDS</span><br><span class="line"></span><br><span class="line">nlp = spacy.load(<span class="string">"en_core_web_sm"</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KeywordExtraction</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.d = <span class="number">0.85</span>         <span class="comment"># damping factor</span></span><br><span class="line">        self.min_diff = <span class="number">1e-5</span>  <span class="comment"># </span></span><br><span class="line">        self.steps = <span class="number">10</span>       <span class="comment"># iterate steps</span></span><br><span class="line">        self.node_weight = <span class="literal">None</span>  <span class="comment"># node_weight</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_stopwords</span><span class="params">(self, stopwords)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        添加自定义 stop_words</span></span><br><span class="line"><span class="string">        :param stopwords:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> STOP_WORDS.union(set(stopwords)):</span><br><span class="line">            lexeme = nlp.vocab[word]</span><br><span class="line">            lexeme.is_stop = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sentence_segment</span><span class="params">(self, doc, candidate_pos, lower=False)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        保存每一句中特定词性的单词</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line"></span><br><span class="line">        sentences = []</span><br><span class="line">        <span class="keyword">for</span> sent <span class="keyword">in</span> doc.sents:</span><br><span class="line">            selected_words = []</span><br><span class="line">            <span class="keyword">for</span> word <span class="keyword">in</span> sent:</span><br><span class="line">                <span class="keyword">if</span> word.pos_ <span class="keyword">in</span> candidate_pos <span class="keyword">and</span> word.is_stop <span class="keyword">is</span> <span class="literal">False</span>:</span><br><span class="line">                    <span class="keyword">if</span> lower:</span><br><span class="line">                        selected_words.append(word.text.lower())</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        selected_words.append(word.text)</span><br><span class="line">            sentences.append(selected_words)</span><br><span class="line">        <span class="keyword">return</span> sentences</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_vocab</span><span class="params">(self, sentences)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        得到所有句子中特定词性的单词</span></span><br><span class="line"><span class="string">        :param sentences:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        vocab = OrderedDict()</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> sent <span class="keyword">in</span> sentences:</span><br><span class="line">            <span class="keyword">for</span> word <span class="keyword">in</span> sent:</span><br><span class="line">                <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> vocab:</span><br><span class="line">                    vocab[word] = i</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> vocab</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_token_pairs</span><span class="params">(self, window_size, sentences)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :param window_size:</span></span><br><span class="line"><span class="string">        :param sentences:</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        token_pairs = []</span><br><span class="line">        <span class="keyword">for</span> sent <span class="keyword">in</span> sentences:</span><br><span class="line">            <span class="keyword">for</span> i, word <span class="keyword">in</span> enumerate(sent):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, i+window_size):</span><br><span class="line">                    <span class="keyword">if</span> j &gt;= len(sent):</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    pair = (word, sent[j])</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> pair <span class="keyword">not</span> <span class="keyword">in</span> token_pairs:</span><br><span class="line">                        token_pairs.append(pair)</span><br><span class="line">        <span class="keyword">return</span> token_pairs</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">symmetrize</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> matrix + matrix.T - np.diag(matrix.diagonal())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_matrix</span><span class="params">(self, vocab, token_pairs)</span>:</span></span><br><span class="line">        vocab_size = len(vocab)</span><br><span class="line"></span><br><span class="line">        g = np.zeros((vocab_size, vocab_size), dtype=<span class="string">'float'</span>)</span><br><span class="line">        <span class="keyword">for</span> word1, word2 <span class="keyword">in</span> token_pairs:</span><br><span class="line">            i, j = vocab[word1], vocab[word2]</span><br><span class="line">            g[i][j] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        g = self.symmetrize(g)</span><br><span class="line"></span><br><span class="line">        sum = np.sum(g, axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        np.divide(x1, x2, where=True)</span></span><br><span class="line"><span class="string">        x1: array_like 被除矩阵</span></span><br><span class="line"><span class="string">        x2: array_like 除数矩阵</span></span><br><span class="line"><span class="string">        如果x1和x2的shape不一致的话，他们必须符合数组广播规则，也就是输出矩阵的shape</span></span><br><span class="line"><span class="string">        -- 换言之，输入数组必须具有相同的形状或符合数组广播规则</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        g_after_divide = np.divide(g, sum, where=sum!=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> g_after_divide</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_keywords</span><span class="params">(self, num=<span class="number">10</span>)</span>:</span></span><br><span class="line">        node_weight = OrderedDict(sorted(self.node_weight.items(), key= <span class="keyword">lambda</span> t: t[<span class="number">1</span>], reverse=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i, (k, v) <span class="keyword">in</span> enumerate(node_weight.items()):</span><br><span class="line">            print(k, <span class="string">" -- "</span>, v)</span><br><span class="line">            <span class="keyword">if</span> i &gt; num:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">analyze</span><span class="params">(self, doc, window_size=<span class="number">4</span>, candidate_pos=[<span class="string">'NOUN'</span>, <span class="string">'PROPN'</span>],</span></span></span><br><span class="line"><span class="function"><span class="params">                lower=False, stopwords=list<span class="params">()</span>)</span>:</span></span><br><span class="line"></span><br><span class="line">        self.set_stopwords(stopwords)</span><br><span class="line">        doc_sentences = self.sentence_segment(doc, candidate_pos, lower)</span><br><span class="line">        doc_vocab = self.get_vocab(doc_sentences)</span><br><span class="line">        doc_token_pairs = self.get_token_pairs(window_size, doc_sentences)</span><br><span class="line">        doc_matrix = self.get_matrix(doc_vocab, doc_token_pairs)</span><br><span class="line"></span><br><span class="line">        vocab_size = len(doc_vocab)</span><br><span class="line">        tr = np.array([<span class="number">1</span>] * vocab_size)</span><br><span class="line">        previous_tr = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.steps):</span><br><span class="line">            tr = <span class="number">1</span>-self.d + self.d * np.dot(doc_matrix, tr)</span><br><span class="line">            <span class="keyword">if</span> abs(previous_tr - sum(tr)) &lt; self.min_diff:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            previous_tr = sum(tr)</span><br><span class="line"></span><br><span class="line">        node_weight = dict()</span><br><span class="line">        <span class="keyword">for</span> word, index <span class="keyword">in</span> doc_vocab.items():</span><br><span class="line">            node_weight[word] = tr[index]</span><br><span class="line"></span><br><span class="line">        self.node_weight = node_weight</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    textrank = KeywordExtraction()</span><br><span class="line">    text = <span class="string">'''</span></span><br><span class="line"><span class="string">       The Wandering Earth, described as China’s first big-budget science fiction thriller, quietly made it onto screens at AMC theaters in North America this weekend, and it shows a new side of Chinese filmmaking — one focused toward futuristic spectacles rather than China’s traditionally grand, massive historical epics. At the same time, The Wandering Earth feels like a throwback to a few familiar eras of American filmmaking. While the film’s cast, setting, and tone are all Chinese, longtime science fiction fans are going to see a lot on the screen that reminds them of other movies, for better or worse.</span></span><br><span class="line"><span class="string">       '''</span></span><br><span class="line">    doc = nlp(text)</span><br><span class="line">    textrank.analyze(doc, <span class="number">4</span>)</span><br><span class="line">    <span class="comment"># 取前10个权值最高的单词</span></span><br><span class="line">    textrank.get_keywords(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/22/Python正则表达式-不完全使用指南/" rel="next" title="Python正则表达式-不完全使用指南">
                <i class="fa fa-chevron-left"></i> Python正则表达式-不完全使用指南
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/02/28/Tf-Idf/" rel="prev" title>
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">seine7ee</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Keyword-Extraction-by-TextRank"><span class="nav-number">1.</span> <span class="nav-text">Keyword Extraction by TextRank</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Understand-PageRank"><span class="nav-number">1.1.</span> <span class="nav-text">1. Understand PageRank</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-使用TextRank实现Keyword-Extraction"><span class="nav-number">1.2.</span> <span class="nav-text">2.使用TextRank实现Keyword Extraction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pre-option"><span class="nav-number">1.3.</span> <span class="nav-text">pre-option</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-文本分割成句子，保存每一句中特定词性的单词"><span class="nav-number">1.4.</span> <span class="nav-text">1. 文本分割成句子，保存每一句中特定词性的单词</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-以每一句为单位，获得该句子中指定窗口大小的pair，最终得到整个文本的token-pairs集合"><span class="nav-number">1.5.</span> <span class="nav-text">2. 以每一句为单位，获得该句子中指定窗口大小的pair，最终得到整个文本的token_pairs集合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-获得所有的tokens的集合，即该文本的表征词汇集合-vocab"><span class="nav-number">1.6.</span> <span class="nav-text">3. 获得所有的tokens的集合，即该文本的表征词汇集合 - vocab</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-根据获得的vocab和token-pairs，来得到文本图的矩阵表示，并将矩阵归一化"><span class="nav-number">1.7.</span> <span class="nav-text">4. 根据获得的vocab和token_pairs，来得到文本图的矩阵表示，并将矩阵归一化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-迭代计算出每个token的weight"><span class="nav-number">1.8.</span> <span class="nav-text">5. 迭代计算出每个token的weight</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-对权值进行排序"><span class="nav-number">1.9.</span> <span class="nav-text">6. 对权值进行排序</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">seine7ee</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
